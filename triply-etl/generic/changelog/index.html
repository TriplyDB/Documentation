<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <meta name="description" content="The official documentation for the Triply products: TriplyDB, TriplyDB.js, and TriplyETL." />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Changelog - Triply Documentation</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link href="../../../css/intellij-light.css" rel="stylesheet" />
        <link href="../../../css/triply.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Changelog";
        var mkdocs_page_input_path = "triply-etl/generic/changelog.md";
        var mkdocs_page_url = null;
      </script>
     
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> Triply Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">TriplyDB</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">Getting started</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../triply-db-getting-started/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triply-db-getting-started/uploading-data/">Uploading Data</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triply-db-getting-started/editing-data/">Editing (SKOS) Data</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triply-db-getting-started/publishing-data/">Sharing Data</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triply-db-getting-started/viewing-data/">Viewing Data</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triply-db-getting-started/exporting-data/">Exporting Data</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triply-db-getting-started/saved-queries/">Saved Queries</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triply-db-getting-started/data-stories/">Data Stories</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triply-db-getting-started/admin-settings-pages/">Admin Settings Pages</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triply-db-getting-started/reference/">Reference</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../triply-api/">API</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">TriplyDB-JS</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../triplydb-js/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triplydb-js/app/">App</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triplydb-js/account/">Account</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triplydb-js/asset/">Asset</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triplydb-js/dataset/">Dataset</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triplydb-js/graph/">Graph</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triplydb-js/organization/">Organization</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triplydb-js/query/">Query</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triplydb-js/service/">Service</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triplydb-js/story/">Story</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triplydb-js/user/">User</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../triplydb-js/faq/">FAQ</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../triply-cli/">Command-line Interface</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../triplydb-changelog/">Changelog</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">TriplyETL</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Generic</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../../">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../getting-started/">Getting Started</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">Changelog</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-4100">TriplyETL 4.10.0</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#added">[Added]</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#fixed">[Fixed]</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-4812">TriplyETL 4.8.12</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-447">TriplyETL 4.4.7</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-446">TriplyETL 4.4.6</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#fixed-minor-clean-ups">[Fixed] Minor clean-ups</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-445">TriplyETL 4.4.5</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#fixed-triplydb-js-instantiation">[Fixed] TriplyDB-JS instantiation</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-440">TriplyETL 4.4.0</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#added-linked-data-event-stream-middleware-ldes">[Added] linked data event stream middleware (LDES)</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-420">TriplyETL 4.2.0</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#added-retry-mechanism-for-oai">[Added] retry mechanism for OAI</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-4116">TriplyETL 4.1.16</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#fixed-shacl-version-update-and-fixing-now-in-shacl-rules-engine">[Fixed] SHACL version update and fixing now() in SHACL rules engine</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-4115">TriplyETL 4.1.15</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#fixed-large-default-timeout-for-oai-requests">[Fixed] large default timeout for OAI requests</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#added-support-for-parsing-multiple-rdfxml-docs-from-oai">[Added] support for parsing multiple RDF/XML docs from OAI</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-4114">TriplyETL 4.1.14</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#fixed-shacl-dependency-version">[Fixed] SHACL dependency version</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-4113">TriplyETL 4.1.13</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#fixed-hanging-etl-and-preparations-for-a-simplified-eslint-prettier-setup">[Fixed] hanging ETL and preparations for a simplified eslint / prettier setup</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-4112">TriplyETL 4.1.12</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#fixed-shacl-executerules-and-added-speedy-as-a-peer-dependency">[Fixed] SHACL executeRules() and added Speedy as a peer dependency</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-4111">TriplyETL 4.1.11</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#added-multiple-hashing-algorithms-to-hashediri">[Added] multiple hashing algorithms to hashedIri()</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-4110">TriplyETL 4.1.10</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#fixed-performance-issue-with-validate">[Fixed] performance issue with validate()</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-419">TriplyETL 4.1.9</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#fixed-issue-with-fromoai-in-combination-with-metadatayieldsrdf">[Fixed] issue with fromOai() in combination with metadataYieldsRdf</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-418">TriplyETL 4.1.8</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#added-preventservicedowntime-option-to-avoid-service-downtime-in-totriplydb-function">[Added] preventServiceDowntime option to avoid Service downtime in toTriplyDb() function</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-417">TriplyETL 4.1.7</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-using-namednodes-andor-literal-as-content-for-addhashediri">[Enhanced] Using NamedNodes and/or Literal as content for addHashedIri()</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#bug-fixes">Bug fixes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-416">TriplyETL 4.1.6</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#fixed-shacl-validate-with-sparql-target-returned-incorrect-results">[Fixed] SHACL validate() with SPARQL target returned incorrect results</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-412-through-415">TriplyETL 4.1.2 through 4.1.5</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-improved-the-timeouts-handling-for-fromoai-extractor">[Enhanced] Improved the timeouts handling for fromOai() extractor</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-411">TriplyETL 4.1.1</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#changed-executerules-supports-only-two-arguments">[Changed] executeRules() supports only two arguments</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-increased-stack-size">[Enhanced] Increased stack size</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#added-cli-flag-keep-tmp-dir-to-save-temporary-data-directory">[Added] CLI flag --keep-tmp-dir to save temporary data directory</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-400">TriplyETL 4.0.0</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#changed-iri-related-middlewares-no-longer-use-skolem-urls">[Changed] IRI-related middlewares no longer use skolem URLs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#changed-fromshapefile-is-now-called-fromshapefile">[Changed] fromShapeFile() is now called fromShapefile()</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#removed-function-addrandomiri">[Removed] Function addRandomIri()</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#added-new-variables-added-to-etl">[Added] New variables added to ETL</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-310-311">TriplyETL 3.1.0 &amp;&amp; 3.1.1</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#deprecated-deprecated-fromshapefile-for-fromshapefile">[Deprecated] Deprecated fromShapeFile() for fromShapefile()</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#deprecated-deprecated-addrandomiri-function">[Deprecated] Deprecated addRandomIri() function.</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-improved-shacl-report">[Enhanced] Improved SHACL report.</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-improved-objects-function">[Enhanced] Improved objects() function</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-rml-middleware">[Enhanced] RML middleware</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-static-vocabularies">[Enhanced] Static vocabularies</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-npm-packages">[Enhanced] NPM packages</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#fixed-base-iri-when-using-loadrdf">[Fixed] Base IRI when using loadRdf()</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#fixed-string-encoding-for-iris">[Fixed] String encoding for IRIs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#fixed-new-datatype-added-to-addpoint-middleware">[Fixed] New datatype added to addPoint() middleware</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-3020">TriplyETL 3.0.20</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-improved-copysource-function">[Enhanced] Improved copySource() function</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-prefix-uploading">[Enhanced] Prefix uploading</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-3015-through-3018">TriplyETL 3.0.15 through 3.0.18</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-rdf-compression-before-upload">[Enhanced] RDF compression before upload</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-skolem-iri-prefix-use">[Enhanced] Skolem IRI prefix use</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#bug-fixes_1">Bug fixes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-3014">TriplyETL 3.0.14</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#added-support-for-rml">[Added] Support for RML</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#build-environments-beyond-the-dtap-defaults">[Build] Environments beyond the DTAP defaults</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#bug-fixes_2">Bug fixes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-307-through-309">TriplyETL 3.0.7 through 3.0.9</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#added-cli-flag-to-skip-version-check">[Added] CLI flag to skip version check</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#added-support-for-jpath-expressions">[Added] Support for JPath expressions</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#added-authentication-for-the-oai-pmh-extractor">[Added] Authentication for the OAI-PMH extractor</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#added-xslt-support-for-the-oai-pmh-extractor">[Added] XSLT support for the OAI-PMH extractor</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#bug-fixes_3">Bug fixes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-306">TriplyETL 3.0.6</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#bug-fixes_4">Bug fixes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-305">TriplyETL 3.0.5</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#bug-fixes_5">Bug fixes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-304">TriplyETL 3.0.4</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#added-dataset-metadata-specification">[Added] Dataset metadata specification</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#cli-reverse-logic-for-creating-error-traces">[CLI] Reverse logic for creating error traces</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#bug-fixes_6">Bug fixes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-303">TriplyETL 3.0.3</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#changed-support-for-the-nde-dataset-register">[Changed] Support for the NDE Dataset Register</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-302">TriplyETL 3.0.2</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#added-static-statement-assertion">[Added] Static statement assertion</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#bug-fixes_7">Bug fixes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-301">TriplyETL 3.0.1</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-source-string-validation">[Enhanced] Source string validation</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-synchronize-specific-services">[Enhanced] Synchronize specific services</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#fixed-bug-fixes">[Fixed] Bug fixes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-300">TriplyETL 3.0.0</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#added-support-for-xslt">[Added] Support for XSLT</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#added-support-for-the-sparql-select-and-sparql-ask-queries">[Added] Support for the SPARQL Select and SPARQL Ask queries</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-simplified-usage-of-nestedpairs">[Enhanced] Simplified usage of 'nestedPairs()'</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#changed-automatic-prefix-handling-in-triplydb-using-tordf">[Changed] Automatic prefix handling in TriplyDB using 'toRdf()'</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#changed-new-approach-to-prefix-handling-in-triplyetl">[Changed] New approach to prefix handling in TriplyETL</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#changed-new-package-triplyetlvocabularies">[Changed] New package '@triplyetl/vocabularies'</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#changed-rdf-serialization-parsing-with-loadrdf">[Changed] RDF serialization parsing with 'loadRdf()'</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#changed-extended-log-and-terminal-output-for-etl-debugging">[Changed] Extended log and terminal output for ETL debugging</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#changed-tordf-for-account-based-token-access">[Changed] 'toRdf()' for account-based token access</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#changed-relocation-middleware-resetstore-and-randomkey">[Changed] Relocation middleware: 'resetStore()' and 'randomKey()'</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#changed-record-selection-with-offset-and-limit">[Changed] Record selection with '--offset' and '--limit'</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#changed-removal-of-mapquads">[Changed] Removal of 'mapQuads()'</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#changed-warning-for-old-nodejs-versions">[Changed] Warning for old Node.JS versions</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#changed-shacl-validation-engine">[Changed] SHACL Validation Engine</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#changed-trace-for-large-records">[Changed] Trace for large records</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#changed-transition-to-in-memory-engine-speedy">[Changed] Transition to in-memory engine Speedy</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-improvements-to-etl-logs">[Enhanced] Improvements to ETL logs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-prevent-using-multiple-extractors">[Enhanced] Prevent using multiple extractors</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-better-error-reporting-for-csv-tsv-and-xml-sources">[Enhanced] Better error reporting for CSV, TSV, and XML sources.</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#enhanced-default-crs-for-wktaddpoint">[Enhanced] Default CRS for 'wkt.addPoint()'</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-handle-conflicting-triplydb-instance-specifications">[Enhanced] Handle conflicting TriplyDB instance specifications</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-more-information-for-failing-http-calls">[Enhanced] More information for failing HTTP calls</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#bug-fixes_8">Bug fixes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-207-through-2019">TriplyETL 2.0.7 through 2.0.19</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#bug-fixes_9">Bug fixes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-206">TriplyETL 2.0.6</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#added-support-for-the-premis-vocabulary">[Added] Support for the PREMIS vocabulary</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#added-new-debug-function-logmemory">[Added] New debug function logMemory()</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#added-support-for-the-listidentifiers-verb-in-the-oai-pmh-extractor">[Added] Support for the 'ListIdentifiers' verb in the OAI-PMH extractor</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-205">TriplyETL 2.0.5</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#changed-new-default-engine-for-sparql-construct">[Changed] New default engine for SPARQL Construct</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#added-new-cli-tool-for-comparing-graphs">[Added] New CLI tool for comparing graphs</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#bug-fixes_10">Bug fixes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-204">TriplyETL 2.0.4</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-better-output-for-graph-comparison">[Enhanced] Better output for graph comparison</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-203">TriplyETL 2.0.3</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#bug-fixes_11">Bug fixes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-202">TriplyETL 2.0.2</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#bug-fixes_12">Bug fixes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-201">TriplyETL 2.0.1</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#added-timeout-flag-for-triplyetl-runner">[Added] Timeout flag for TriplyETL Runner</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-200">TriplyETL 2.0.0</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#changed-modules-infrastructure-moves-from-commonjs-to-esm">[Changed] Modules infrastructure moves from CommonJS to ESM</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#changed-debug-functions-move-to-a-new-module">[Changed] Debug functions move to a new module</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#enhanced-better-error-messages-when-things-go-wrong">[Enhanced] Better error messages when things go wrong</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#bug-fixes_13">Bug fixes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#triplyetl-10x">TriplyETL 1.0.x</a>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../cli/">Command Line Interface (CLI)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../declarations/">Declarations</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../control-structures/">Control Structures</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../debug/">Debug</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../internal-store/">Internal Store</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../maintenance/">Maintenance</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../record/">Record</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../vocabularies/">Vocabularies</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Sources</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../sources/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../sources/apis/">APIs</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../sources/inline-json/">Inline JSON</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../sources/inline-strings/">Inline Strings</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../sources/local-files/">Local Files</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../sources/online-files/">Online Files</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../sources/rml/">RML Sources</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../sources/triplydb-assets/">TriplyDB Assets</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../sources/triplydb-datasets/">TriplyDB Datasets</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../sources/triplydb-queries/">TriplyDB Queries</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Extract</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../extract/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../extract/csv/">CSV</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../extract/json/">JSON</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../extract/oai-pmh/">OAI-PMH</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../extract/postgres/">Postgres</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../extract/rdf/">RDF</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../extract/shapefile/">Shapefile</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../extract/tsv/">TSV</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../extract/xlsx/">XLSX</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../extract/xml/">XML</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Transform</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../transform/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../transform/ratt/">RATT</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../transform/rml/">RML</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../transform/typescript/">TypeScript</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../transform/xslt/">XSLT</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Assert</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../assert/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../assert/json-ld/">JSON-LD</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">RATT</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../assert/ratt/terms/">RATT Terms</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../assert/ratt/statements/">RATT Statements</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../assert/rml/">RML</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../assert/xslt/">XSLT</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Enrich</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../enrich/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">SHACL</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../enrich/shacl/">Overview</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../enrich/shacl/triple-rules/">Triple Rules</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../enrich/shacl/sparql-rules/">SPARQL Rules</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">SPARQL</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../enrich/sparql/construct/">SPARQL Construct</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../enrich/sparql/update/">SPARQL Update</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Validate</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../validate/">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../validate/graph-comparison/">Graph Comparison</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../validate/shacl/">SHACL</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../publish/">Publish</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Yasgui</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../yasgui/">Introduction</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../yasgui-api/">For Developers</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">Triply Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">TriplyETL</li>
          <li class="breadcrumb-item">Generic</li>
      <li class="breadcrumb-item active">Changelog</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <div class="toc"><span class="toctitle">On this page:</span><ul>
<li><a href="#changelog">Changelog</a><ul>
<li><a href="#triplyetl-4100">TriplyETL 4.10.0</a></li>
<li><a href="#added">[Added]</a></li>
<li><a href="#fixed">[Fixed]</a></li>
<li><a href="#triplyetl-4812">TriplyETL 4.8.12</a></li>
<li><a href="#triplyetl-447">TriplyETL 4.4.7</a></li>
<li><a href="#triplyetl-446">TriplyETL 4.4.6</a><ul>
<li><a href="#fixed-minor-clean-ups">[Fixed] Minor clean-ups</a></li>
</ul>
</li>
<li><a href="#triplyetl-445">TriplyETL 4.4.5</a><ul>
<li><a href="#fixed-triplydb-js-instantiation">[Fixed] TriplyDB-JS instantiation</a></li>
</ul>
</li>
<li><a href="#triplyetl-440">TriplyETL 4.4.0</a><ul>
<li><a href="#added-linked-data-event-stream-middleware-ldes">[Added] linked data event stream middleware (LDES)</a></li>
</ul>
</li>
<li><a href="#triplyetl-420">TriplyETL 4.2.0</a><ul>
<li><a href="#added-retry-mechanism-for-oai">[Added] retry mechanism for OAI</a></li>
</ul>
</li>
<li><a href="#triplyetl-4116">TriplyETL 4.1.16</a><ul>
<li><a href="#fixed-shacl-version-update-and-fixing-now-in-shacl-rules-engine">[Fixed] SHACL version update and fixing now() in SHACL rules engine</a></li>
</ul>
</li>
<li><a href="#triplyetl-4115">TriplyETL 4.1.15</a><ul>
<li><a href="#fixed-large-default-timeout-for-oai-requests">[Fixed] large default timeout for OAI requests</a></li>
<li><a href="#added-support-for-parsing-multiple-rdfxml-docs-from-oai">[Added] support for parsing multiple RDF/XML docs from OAI</a></li>
</ul>
</li>
<li><a href="#triplyetl-4114">TriplyETL 4.1.14</a><ul>
<li><a href="#fixed-shacl-dependency-version">[Fixed] SHACL dependency version</a></li>
</ul>
</li>
<li><a href="#triplyetl-4113">TriplyETL 4.1.13</a><ul>
<li><a href="#fixed-hanging-etl-and-preparations-for-a-simplified-eslint-prettier-setup">[Fixed] hanging ETL and preparations for a simplified eslint / prettier setup</a></li>
</ul>
</li>
<li><a href="#triplyetl-4112">TriplyETL 4.1.12</a><ul>
<li><a href="#fixed-shacl-executerules-and-added-speedy-as-a-peer-dependency">[Fixed] SHACL executeRules() and added Speedy as a peer dependency</a></li>
</ul>
</li>
<li><a href="#triplyetl-4111">TriplyETL 4.1.11</a><ul>
<li><a href="#added-multiple-hashing-algorithms-to-hashediri">[Added] multiple hashing algorithms to hashedIri()</a></li>
</ul>
</li>
<li><a href="#triplyetl-4110">TriplyETL 4.1.10</a><ul>
<li><a href="#fixed-performance-issue-with-validate">[Fixed] performance issue with validate()</a></li>
</ul>
</li>
<li><a href="#triplyetl-419">TriplyETL 4.1.9</a><ul>
<li><a href="#fixed-issue-with-fromoai-in-combination-with-metadatayieldsrdf">[Fixed] issue with fromOai() in combination with metadataYieldsRdf</a></li>
</ul>
</li>
<li><a href="#triplyetl-418">TriplyETL 4.1.8</a><ul>
<li><a href="#added-preventservicedowntime-option-to-avoid-service-downtime-in-totriplydb-function">[Added] preventServiceDowntime option to avoid Service downtime in toTriplyDb() function</a></li>
</ul>
</li>
<li><a href="#triplyetl-417">TriplyETL 4.1.7</a><ul>
<li><a href="#enhanced-using-namednodes-andor-literal-as-content-for-addhashediri">[Enhanced] Using NamedNodes and/or Literal as content for addHashedIri()</a></li>
<li><a href="#bug-fixes">Bug fixes</a></li>
</ul>
</li>
<li><a href="#triplyetl-416">TriplyETL 4.1.6</a><ul>
<li><a href="#fixed-shacl-validate-with-sparql-target-returned-incorrect-results">[Fixed] SHACL validate() with SPARQL target returned incorrect results</a></li>
</ul>
</li>
<li><a href="#triplyetl-412-through-415">TriplyETL 4.1.2 through 4.1.5</a><ul>
<li><a href="#enhanced-improved-the-timeouts-handling-for-fromoai-extractor">[Enhanced] Improved the timeouts handling for fromOai() extractor</a></li>
</ul>
</li>
<li><a href="#triplyetl-411">TriplyETL 4.1.1</a><ul>
<li><a href="#changed-executerules-supports-only-two-arguments">[Changed] executeRules() supports only two arguments</a></li>
<li><a href="#enhanced-increased-stack-size">[Enhanced] Increased stack size</a></li>
<li><a href="#added-cli-flag-keep-tmp-dir-to-save-temporary-data-directory">[Added] CLI flag --keep-tmp-dir to save temporary data directory</a></li>
</ul>
</li>
<li><a href="#triplyetl-400">TriplyETL 4.0.0</a><ul>
<li><a href="#changed-iri-related-middlewares-no-longer-use-skolem-urls">[Changed] IRI-related middlewares no longer use skolem URLs</a></li>
<li><a href="#changed-fromshapefile-is-now-called-fromshapefile">[Changed] fromShapeFile() is now called fromShapefile()</a></li>
<li><a href="#removed-function-addrandomiri">[Removed] Function addRandomIri()</a></li>
<li><a href="#added-new-variables-added-to-etl">[Added] New variables added to ETL</a></li>
</ul>
</li>
<li><a href="#triplyetl-310-311">TriplyETL 3.1.0 &amp;&amp; 3.1.1</a><ul>
<li><a href="#deprecated-deprecated-fromshapefile-for-fromshapefile">[Deprecated] Deprecated fromShapeFile() for fromShapefile()</a></li>
<li><a href="#deprecated-deprecated-addrandomiri-function">[Deprecated] Deprecated addRandomIri() function.</a></li>
<li><a href="#enhanced-improved-shacl-report">[Enhanced] Improved SHACL report.</a></li>
<li><a href="#enhanced-improved-objects-function">[Enhanced] Improved objects() function</a></li>
<li><a href="#enhanced-rml-middleware">[Enhanced] RML middleware</a></li>
<li><a href="#enhanced-static-vocabularies">[Enhanced] Static vocabularies</a></li>
<li><a href="#enhanced-npm-packages">[Enhanced] NPM packages</a></li>
<li><a href="#fixed-base-iri-when-using-loadrdf">[Fixed] Base IRI when using loadRdf()</a></li>
<li><a href="#fixed-string-encoding-for-iris">[Fixed] String encoding for IRIs</a></li>
<li><a href="#fixed-new-datatype-added-to-addpoint-middleware">[Fixed] New datatype added to addPoint() middleware</a></li>
</ul>
</li>
<li><a href="#triplyetl-3020">TriplyETL 3.0.20</a><ul>
<li><a href="#enhanced-improved-copysource-function">[Enhanced] Improved copySource() function</a></li>
<li><a href="#enhanced-prefix-uploading">[Enhanced] Prefix uploading</a></li>
</ul>
</li>
<li><a href="#triplyetl-3015-through-3018">TriplyETL 3.0.15 through 3.0.18</a><ul>
<li><a href="#enhanced-rdf-compression-before-upload">[Enhanced] RDF compression before upload</a></li>
<li><a href="#enhanced-skolem-iri-prefix-use">[Enhanced] Skolem IRI prefix use</a></li>
<li><a href="#bug-fixes_1">Bug fixes</a></li>
</ul>
</li>
<li><a href="#triplyetl-3014">TriplyETL 3.0.14</a><ul>
<li><a href="#added-support-for-rml">[Added] Support for RML</a></li>
<li><a href="#build-environments-beyond-the-dtap-defaults">[Build] Environments beyond the DTAP defaults</a></li>
<li><a href="#bug-fixes_2">Bug fixes</a></li>
</ul>
</li>
<li><a href="#triplyetl-307-through-309">TriplyETL 3.0.7 through 3.0.9</a><ul>
<li><a href="#added-cli-flag-to-skip-version-check">[Added] CLI flag to skip version check</a></li>
<li><a href="#added-support-for-jpath-expressions">[Added] Support for JPath expressions</a></li>
<li><a href="#added-authentication-for-the-oai-pmh-extractor">[Added] Authentication for the OAI-PMH extractor</a></li>
<li><a href="#added-xslt-support-for-the-oai-pmh-extractor">[Added] XSLT support for the OAI-PMH extractor</a></li>
<li><a href="#bug-fixes_3">Bug fixes</a></li>
</ul>
</li>
<li><a href="#triplyetl-306">TriplyETL 3.0.6</a><ul>
<li><a href="#bug-fixes_4">Bug fixes</a></li>
</ul>
</li>
<li><a href="#triplyetl-305">TriplyETL 3.0.5</a><ul>
<li><a href="#bug-fixes_5">Bug fixes</a></li>
</ul>
</li>
<li><a href="#triplyetl-304">TriplyETL 3.0.4</a><ul>
<li><a href="#added-dataset-metadata-specification">[Added] Dataset metadata specification</a></li>
<li><a href="#cli-reverse-logic-for-creating-error-traces">[CLI] Reverse logic for creating error traces</a></li>
<li><a href="#bug-fixes_6">Bug fixes</a></li>
</ul>
</li>
<li><a href="#triplyetl-303">TriplyETL 3.0.3</a></li>
<li><a href="#changed-support-for-the-nde-dataset-register">[Changed] Support for the NDE Dataset Register</a></li>
<li><a href="#triplyetl-302">TriplyETL 3.0.2</a><ul>
<li><a href="#added-static-statement-assertion">[Added] Static statement assertion</a></li>
<li><a href="#bug-fixes_7">Bug fixes</a></li>
</ul>
</li>
<li><a href="#triplyetl-301">TriplyETL 3.0.1</a><ul>
<li><a href="#enhanced-source-string-validation">[Enhanced] Source string validation</a></li>
<li><a href="#enhanced-synchronize-specific-services">[Enhanced] Synchronize specific services</a></li>
<li><a href="#fixed-bug-fixes">[Fixed] Bug fixes</a></li>
</ul>
</li>
<li><a href="#triplyetl-300">TriplyETL 3.0.0</a><ul>
<li><a href="#added-support-for-xslt">[Added] Support for XSLT</a></li>
<li><a href="#added-support-for-the-sparql-select-and-sparql-ask-queries">[Added] Support for the SPARQL Select and SPARQL Ask queries</a></li>
<li><a href="#enhanced-simplified-usage-of-nestedpairs">[Enhanced] Simplified usage of 'nestedPairs()'</a></li>
<li><a href="#changed-automatic-prefix-handling-in-triplydb-using-tordf">[Changed] Automatic prefix handling in TriplyDB using 'toRdf()'</a></li>
<li><a href="#changed-new-approach-to-prefix-handling-in-triplyetl">[Changed] New approach to prefix handling in TriplyETL</a></li>
<li><a href="#changed-new-package-triplyetlvocabularies">[Changed] New package '@triplyetl/vocabularies'</a></li>
<li><a href="#changed-rdf-serialization-parsing-with-loadrdf">[Changed] RDF serialization parsing with 'loadRdf()'</a></li>
<li><a href="#changed-extended-log-and-terminal-output-for-etl-debugging">[Changed] Extended log and terminal output for ETL debugging</a></li>
<li><a href="#changed-tordf-for-account-based-token-access">[Changed] 'toRdf()' for account-based token access</a></li>
<li><a href="#changed-relocation-middleware-resetstore-and-randomkey">[Changed] Relocation middleware: 'resetStore()' and 'randomKey()'</a></li>
<li><a href="#changed-record-selection-with-offset-and-limit">[Changed] Record selection with '--offset' and '--limit'</a></li>
<li><a href="#changed-removal-of-mapquads">[Changed] Removal of 'mapQuads()'</a></li>
<li><a href="#changed-warning-for-old-nodejs-versions">[Changed] Warning for old Node.JS versions</a></li>
<li><a href="#changed-shacl-validation-engine">[Changed] SHACL Validation Engine</a></li>
<li><a href="#changed-trace-for-large-records">[Changed] Trace for large records</a></li>
<li><a href="#changed-transition-to-in-memory-engine-speedy">[Changed] Transition to in-memory engine Speedy</a></li>
<li><a href="#enhanced-improvements-to-etl-logs">[Enhanced] Improvements to ETL logs</a></li>
<li><a href="#enhanced-prevent-using-multiple-extractors">[Enhanced] Prevent using multiple extractors</a></li>
<li><a href="#enhanced-better-error-reporting-for-csv-tsv-and-xml-sources">[Enhanced] Better error reporting for CSV, TSV, and XML sources.</a></li>
</ul>
</li>
<li><a href="#enhanced-default-crs-for-wktaddpoint">[Enhanced] Default CRS for 'wkt.addPoint()'</a><ul>
<li><a href="#enhanced-handle-conflicting-triplydb-instance-specifications">[Enhanced] Handle conflicting TriplyDB instance specifications</a></li>
<li><a href="#enhanced-more-information-for-failing-http-calls">[Enhanced] More information for failing HTTP calls</a></li>
<li><a href="#bug-fixes_8">Bug fixes</a></li>
</ul>
</li>
<li><a href="#triplyetl-207-through-2019">TriplyETL 2.0.7 through 2.0.19</a><ul>
<li><a href="#bug-fixes_9">Bug fixes</a></li>
</ul>
</li>
<li><a href="#triplyetl-206">TriplyETL 2.0.6</a><ul>
<li><a href="#added-support-for-the-premis-vocabulary">[Added] Support for the PREMIS vocabulary</a></li>
<li><a href="#added-new-debug-function-logmemory">[Added] New debug function logMemory()</a></li>
<li><a href="#added-support-for-the-listidentifiers-verb-in-the-oai-pmh-extractor">[Added] Support for the 'ListIdentifiers' verb in the OAI-PMH extractor</a></li>
</ul>
</li>
<li><a href="#triplyetl-205">TriplyETL 2.0.5</a><ul>
<li><a href="#changed-new-default-engine-for-sparql-construct">[Changed] New default engine for SPARQL Construct</a></li>
<li><a href="#added-new-cli-tool-for-comparing-graphs">[Added] New CLI tool for comparing graphs</a></li>
<li><a href="#bug-fixes_10">Bug fixes</a></li>
</ul>
</li>
<li><a href="#triplyetl-204">TriplyETL 2.0.4</a><ul>
<li><a href="#enhanced-better-output-for-graph-comparison">[Enhanced] Better output for graph comparison</a></li>
</ul>
</li>
<li><a href="#triplyetl-203">TriplyETL 2.0.3</a><ul>
<li><a href="#bug-fixes_11">Bug fixes</a></li>
</ul>
</li>
<li><a href="#triplyetl-202">TriplyETL 2.0.2</a><ul>
<li><a href="#bug-fixes_12">Bug fixes</a></li>
</ul>
</li>
<li><a href="#triplyetl-201">TriplyETL 2.0.1</a><ul>
<li><a href="#added-timeout-flag-for-triplyetl-runner">[Added] Timeout flag for TriplyETL Runner</a></li>
</ul>
</li>
<li><a href="#triplyetl-200">TriplyETL 2.0.0</a><ul>
<li><a href="#changed-modules-infrastructure-moves-from-commonjs-to-esm">[Changed] Modules infrastructure moves from CommonJS to ESM</a></li>
<li><a href="#changed-debug-functions-move-to-a-new-module">[Changed] Debug functions move to a new module</a></li>
<li><a href="#enhanced-better-error-messages-when-things-go-wrong">[Enhanced] Better error messages when things go wrong</a></li>
<li><a href="#bug-fixes_13">Bug fixes</a></li>
</ul>
</li>
<li><a href="#triplyetl-10x">TriplyETL 1.0.x</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="changelog">Changelog<a class="headerlink" href="#changelog" title="Permanent link">&para;</a></h1>
<p>You can use this changelog to perform a safe update from an older version of TriplyETL to a newer one. See the documentation for <a href="../maintenance/#update-the-triplyetl-dependency">Upgrading TriplyETL repositories</a> for the advised approach, and how the changelog factors into that.</p>
<h3 id="triplyetl-4100">TriplyETL 4.10.0<a class="headerlink" href="#triplyetl-4100" title="Permanent link">&para;</a></h3>
<p>Release date: 2025-04-01</p>
<h3 id="added">[Added]<a class="headerlink" href="#added" title="Permanent link">&para;</a></h3>
<ul>
<li>Add uniqueBy option to list</li>
<li>Support node 22</li>
</ul>
<h3 id="fixed">[Fixed]<a class="headerlink" href="#fixed" title="Permanent link">&para;</a></h3>
<ul>
<li>DELETE is not working in the MWE of the documentation</li>
<li>SHACL validation broken all together</li>
<li>SPARQL targets bleeding to next record</li>
</ul>
<h3 id="triplyetl-4812">TriplyETL 4.8.12<a class="headerlink" href="#triplyetl-4812" title="Permanent link">&para;</a></h3>
<p>Release date: 2024-06-24</p>
<p>Cleaning up types and upgradeing TriplyDB-js to 8.2.1</p>
<h3 id="triplyetl-447">TriplyETL 4.4.7<a class="headerlink" href="#triplyetl-447" title="Permanent link">&para;</a></h3>
<p>Release date: 2024-07-04</p>
<ul>
<li>Added <code>logInterval</code> property to fromOai. This is useful in situations where TriplyETL cannot render a progress bar (because the OAI endpoint does not return a <code>total-results</code> value).  In such cases you can use this property to render a status update every <code>x</code> number of records.</li>
<li>Improved logging information for errors</li>
</ul>
<h2 id="triplyetl-446">TriplyETL 4.4.6<a class="headerlink" href="#triplyetl-446" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-06-24</p>
<h3 id="fixed-minor-clean-ups">[Fixed] Minor clean-ups<a class="headerlink" href="#fixed-minor-clean-ups" title="Permanent link">&para;</a></h3>
<p>Replacing rdf-js for @rdfjs/types. Adding a resolution for what-wg and rimraf so that there are no deprecation warnings for those modules. Removing some old yarn specific commands, such as pinst.</p>
<h2 id="triplyetl-445">TriplyETL 4.4.5<a class="headerlink" href="#triplyetl-445" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-06-12</p>
<h3 id="fixed-triplydb-js-instantiation">[Fixed] TriplyDB-JS instantiation<a class="headerlink" href="#fixed-triplydb-js-instantiation" title="Permanent link">&para;</a></h3>
<p>Ensure TriplyDB-JS is instantiated properly when proxy settings are passed to TriplyETL</p>
<h2 id="triplyetl-440">TriplyETL 4.4.0<a class="headerlink" href="#triplyetl-440" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-06-04</p>
<h3 id="added-linked-data-event-stream-middleware-ldes">[Added] linked data event stream middleware (LDES)<a class="headerlink" href="#added-linked-data-event-stream-middleware-ldes" title="Permanent link">&para;</a></h3>
<h2 id="triplyetl-420">TriplyETL 4.2.0<a class="headerlink" href="#triplyetl-420" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-05-10</p>
<h3 id="added-retry-mechanism-for-oai">[Added] retry mechanism for OAI<a class="headerlink" href="#added-retry-mechanism-for-oai" title="Permanent link">&para;</a></h3>
<p>Added retry-mechanism to from-oai. By default, all OAI requests now retry 3 times</p>
<h2 id="triplyetl-4116">TriplyETL 4.1.16<a class="headerlink" href="#triplyetl-4116" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-05-09</p>
<h3 id="fixed-shacl-version-update-and-fixing-now-in-shacl-rules-engine">[Fixed] SHACL version update and fixing <code>now()</code> in SHACL rules engine<a class="headerlink" href="#fixed-shacl-version-update-and-fixing-now-in-shacl-rules-engine" title="Permanent link">&para;</a></h3>
<h2 id="triplyetl-4115">TriplyETL 4.1.15<a class="headerlink" href="#triplyetl-4115" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-05-08</p>
<h3 id="fixed-large-default-timeout-for-oai-requests">[Fixed] large default timeout for OAI requests<a class="headerlink" href="#fixed-large-default-timeout-for-oai-requests" title="Permanent link">&para;</a></h3>
<p>Add (very) large default timeout for oai requests, to avoid possibly hanging when server does not respond</p>
<h3 id="added-support-for-parsing-multiple-rdfxml-docs-from-oai">[Added] support for parsing multiple RDF/XML docs from OAI<a class="headerlink" href="#added-support-for-parsing-multiple-rdfxml-docs-from-oai" title="Permanent link">&para;</a></h3>
<h2 id="triplyetl-4114">TriplyETL 4.1.14<a class="headerlink" href="#triplyetl-4114" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-04-18</p>
<h3 id="fixed-shacl-dependency-version">[Fixed] SHACL dependency version<a class="headerlink" href="#fixed-shacl-dependency-version" title="Permanent link">&para;</a></h3>
<p>Update SHACL dependency, with some performance improvements</p>
<h2 id="triplyetl-4113">TriplyETL 4.1.13<a class="headerlink" href="#triplyetl-4113" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-04-18</p>
<h3 id="fixed-hanging-etl-and-preparations-for-a-simplified-eslint-prettier-setup">[Fixed] hanging ETL and preparations for a simplified eslint / prettier setup<a class="headerlink" href="#fixed-hanging-etl-and-preparations-for-a-simplified-eslint-prettier-setup" title="Permanent link">&para;</a></h3>
<h2 id="triplyetl-4112">TriplyETL 4.1.12<a class="headerlink" href="#triplyetl-4112" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-04-16</p>
<h3 id="fixed-shacl-executerules-and-added-speedy-as-a-peer-dependency">[Fixed] SHACL <code>executeRules()</code> and added Speedy as a peer dependency<a class="headerlink" href="#fixed-shacl-executerules-and-added-speedy-as-a-peer-dependency" title="Permanent link">&para;</a></h3>
<p>Includes fix regarding SPARQL Functions used in <code>executeRules()</code>, the used Speedy SPARQL engine is now a peer dependency, which will use the same version as the one used as in the <code>@triplyetl/etl</code> package</p>
<h2 id="triplyetl-4111">TriplyETL 4.1.11<a class="headerlink" href="#triplyetl-4111" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-03-27</p>
<h3 id="added-multiple-hashing-algorithms-to-hashediri">[Added] multiple hashing algorithms to <code>hashedIri()</code><a class="headerlink" href="#added-multiple-hashing-algorithms-to-hashediri" title="Permanent link">&para;</a></h3>
<p><code>hashedIri()</code> now supports SHA1, SHA256, SHA384 &amp; SHA512 hashtypes, next to the existing (and still default) MD5 hashtype. See <a href="https://git.triply.cc/triplyetl/etl/-/issues/390">issue #390</a>.</p>
<p>Improvements in the SHACL performance and usage.</p>
<h2 id="triplyetl-4110">TriplyETL 4.1.10<a class="headerlink" href="#triplyetl-4110" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-03-12</p>
<h3 id="fixed-performance-issue-with-validate">[Fixed] performance issue with <code>validate()</code><a class="headerlink" href="#fixed-performance-issue-with-validate" title="Permanent link">&para;</a></h3>
<p>Because of a previous fix, the validate middleware become slower. This fix makes it performant again.</p>
<h2 id="triplyetl-419">TriplyETL 4.1.9<a class="headerlink" href="#triplyetl-419" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-03-12</p>
<h3 id="fixed-issue-with-fromoai-in-combination-with-metadatayieldsrdf">[Fixed] issue with <code>fromOai()</code> in combination with  <code>metadataYieldsRdf</code><a class="headerlink" href="#fixed-issue-with-fromoai-in-combination-with-metadatayieldsrdf" title="Permanent link">&para;</a></h3>
<p>Fixed issue where <code>fromOai()</code> middleware reported an error when using <code>metadataYieldsRdf</code> and OAI response contained exactly 1 record.</p>
<h2 id="triplyetl-418">TriplyETL 4.1.8<a class="headerlink" href="#triplyetl-418" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-03-10</p>
<h3 id="added-preventservicedowntime-option-to-avoid-service-downtime-in-totriplydb-function">[Added] <code>preventServiceDowntime</code> option to avoid Service downtime in <code>toTriplyDb()</code> function<a class="headerlink" href="#added-preventservicedowntime-option-to-avoid-service-downtime-in-totriplydb-function" title="Permanent link">&para;</a></h3>
<p>You can now update services on TriplyDB without experiencing any downtime. Once data uploading is complete, each service will be recreated using a temporary name and the same configuration as the outdated service. Once the temporary service is up and running, the outdated one will be removed.</p>
<pre><code class="language-ts">toTriplyDb({dataset: 'my-dataset',
  opts: {
    synchronizeServices: ['my-elastic-service', 'my-jena-service'],
    preventServiceDowntime: true
  }
})
</code></pre>
<p>The execution of the above snippet will result in the following console output:</p>
<pre><code class="language-console">Warning Service my-elastic-service of type elasticSearch with status running is out of sync.
Info Creating temporary elasticSearch service triplyetl-temp-1710169198327 for my-elastic-service.
Warning Service my-jena-service of type jena with status running is out of sync.
Info Creating temporary jena service triplyetl-temp-1710169198339 for my-jena-service.
Info Swapping service my-jena-service with triplyetl-temp-1710169198339
Info Service my-jena-service updated in 1 minute,
Info Swapping service my-elastic-service with triplyetl-temp-1710169198327
Info Service my-elastic-service updated in 2 minutes, 7 seconds
</code></pre>
<h2 id="triplyetl-417">TriplyETL 4.1.7<a class="headerlink" href="#triplyetl-417" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-03-09</p>
<h3 id="enhanced-using-namednodes-andor-literal-as-content-for-addhashediri">[Enhanced] Using NamedNodes and/or Literal as content for <code>addHashedIri()</code><a class="headerlink" href="#enhanced-using-namednodes-andor-literal-as-content-for-addhashediri" title="Permanent link">&para;</a></h3>
<p>The <a href="../../transform/ratt/#addhashediri">addHashedIri()</a> function now considers whether a NamedNode and/or Literal object is utilized to generate a hash. In such cases, the internal JSON representation is no longer employed. Instead, we utilize the value property for a NamedNode or the combination of the value, language, and datatype value properties for a Literal. This enhancement aims to produce more consistent hashed IRIs over time.</p>
<h3 id="bug-fixes">Bug fixes<a class="headerlink" href="#bug-fixes" title="Permanent link">&para;</a></h3>
<p>Using <code>skipRest()</code> in <code>ifElse()</code> and <code>switch()</code> middlewares have caused unexpected ETL execution.</p>
<h2 id="triplyetl-416">TriplyETL 4.1.6<a class="headerlink" href="#triplyetl-416" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-03-07</p>
<h3 id="fixed-shacl-validate-with-sparql-target-returned-incorrect-results">[Fixed]  SHACL <code>validate()</code> with SPARQL target returned incorrect results<a class="headerlink" href="#fixed-shacl-validate-with-sparql-target-returned-incorrect-results" title="Permanent link">&para;</a></h3>
<p>Each shape undergoes conversion to a SHACL Validator object only once during ETL to avoid reloading shapes from disk or string for every record. This approach isn't feasible when SPARQL target nodes alter the model, as it would result in adding those targets for each record.</p>
<h2 id="triplyetl-412-through-415">TriplyETL 4.1.2 through 4.1.5<a class="headerlink" href="#triplyetl-412-through-415" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-03-01</p>
<h3 id="enhanced-improved-the-timeouts-handling-for-fromoai-extractor">[Enhanced] Improved the timeouts handling for <code>fromOai()</code> extractor<a class="headerlink" href="#enhanced-improved-the-timeouts-handling-for-fromoai-extractor" title="Permanent link">&para;</a></h3>
<p>This enhancement resolves timeout errors that occurred with requests taking an extended period to respond. By utilizing a custom Fetch Agent from <a href="https://www.npmjs.com/package/undici">undici</a> package,  we've eliminated internal timeouts.</p>
<h2 id="triplyetl-411">TriplyETL 4.1.1<a class="headerlink" href="#triplyetl-411" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-02-18</p>
<h3 id="changed-executerules-supports-only-two-arguments">[Changed] <code>executeRules()</code> supports only two arguments<a class="headerlink" href="#changed-executerules-supports-only-two-arguments" title="Permanent link">&para;</a></h3>
<p>To set a maximum number of iterations of the execution of the SHACL rules the <code>maxIterations</code> or <code>errorOnMaxIterations</code> needs to be specified in the <a href="../../enrich/shacl/#iterative-rules">executeRules()</a> function.</p>
<h3 id="enhanced-increased-stack-size">[Enhanced] Increased stack size<a class="headerlink" href="#enhanced-increased-stack-size" title="Permanent link">&para;</a></h3>
<p>Maximum call stack size has increased to load the large datasets without trowing an errors.</p>
<h3 id="added-cli-flag-keep-tmp-dir-to-save-temporary-data-directory">[Added] CLI flag <code>--keep-tmp-dir</code> to save temporary data directory<a class="headerlink" href="#added-cli-flag-keep-tmp-dir-to-save-temporary-data-directory" title="Permanent link">&para;</a></h3>
<p>Introduced the cli flag <code>--keep-tmp-dir</code> in order to store all temporary files disregarding the completion status. This allows the user to debug ETL's by studying the intermediate files the ETL has created.</p>
<h2 id="triplyetl-400">TriplyETL 4.0.0<a class="headerlink" href="#triplyetl-400" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-01-29</p>
<h3 id="changed-iri-related-middlewares-no-longer-use-skolem-urls">[Changed] IRI-related middlewares no longer use skolem URLs<a class="headerlink" href="#changed-iri-related-middlewares-no-longer-use-skolem-urls" title="Permanent link">&para;</a></h3>
<p>The following middlewares: <code>addHashedIri()</code>, <code>addIri()</code>, <code>addRandomIri()</code>, would no longer allow users to create URLs that have pathnames start with "/.well-known/genid/", since they would be consideres skolemised URLs.</p>
<h3 id="changed-fromshapefile-is-now-called-fromshapefile">[Changed] <code>fromShapeFile()</code> is now called <code>fromShapefile()</code><a class="headerlink" href="#changed-fromshapefile-is-now-called-fromshapefile" title="Permanent link">&para;</a></h3>
<p>The format is called ESRI Shapefile, hence our extractor function's name had to be changed from <code>fromShapeFile()</code> to <code>fromShapefile()</code>.</p>
<h3 id="removed-function-addrandomiri">[Removed] Function <code>addRandomIri()</code><a class="headerlink" href="#removed-function-addrandomiri" title="Permanent link">&para;</a></h3>
<p>Since function <code>addRandomIri()</code> does not add anything beyond <code>addSkolemIri()</code>, the function has been removed from the TriplyETL library. Random IRIs should be skolem IRIs that can be readily replaced by blank nodes.</p>
<h3 id="added-new-variables-added-to-etl">[Added] New variables added to ETL<a class="headerlink" href="#added-new-variables-added-to-etl" title="Permanent link">&para;</a></h3>
<p>New flag has been introduced when constructing an ETL:</p>
<pre><code class="language-ts">  /**
   * Timeout ETL after set duration in milliseconds
   */
  timeout: number;

  /**
   * If set to TRUE, the ETL will do a hard exit, preventing uploads to TDB on timeouts
   */
  exitOnTimeout: boolean;
</code></pre>
<p>which can be set as following:</p>
<pre><code class="language-ts"> const etl = new Etl({timeout: 1000, exitOnTimeout: true})
</code></pre>
<p>This will cause a hard exit when a timeout occurs and nothing will be executed after this timeout.</p>
<h2 id="triplyetl-310-311">TriplyETL 3.1.0 &amp;&amp; 3.1.1<a class="headerlink" href="#triplyetl-310-311" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-01-15 &amp;&amp; 2024-01-17</p>
<h3 id="deprecated-deprecated-fromshapefile-for-fromshapefile">[Deprecated] Deprecated <code>fromShapeFile()</code> for <code>fromShapefile()</code><a class="headerlink" href="#deprecated-deprecated-fromshapefile-for-fromshapefile" title="Permanent link">&para;</a></h3>
<h3 id="deprecated-deprecated-addrandomiri-function">[Deprecated] Deprecated <code>addRandomIri()</code> function.<a class="headerlink" href="#deprecated-deprecated-addrandomiri-function" title="Permanent link">&para;</a></h3>
<p>Function <code>addRandomIri()</code> does not add anything beyond <code>addSkolemIri()</code>. Random IRIs should be skolem IRIs that can be readily replaced by blank nodes.</p>
<h3 id="enhanced-improved-shacl-report">[Enhanced] Improved SHACL report.<a class="headerlink" href="#enhanced-improved-shacl-report" title="Permanent link">&para;</a></h3>
<p>When a SHACL shape is used to validate data does by itself not conform to the SHACL-SHACL shape, the report of that non-conforming shape is now printed.</p>
<h3 id="enhanced-improved-objects-function">[Enhanced] Improved <code>objects()</code> function<a class="headerlink" href="#enhanced-improved-objects-function" title="Permanent link">&para;</a></h3>
<p>The <code>objects()</code> middleware now requires a minimum of 2 objects, deviating from its previous behavior, which was limited to functionality similar to the <code>triple()</code> function.</p>
<h3 id="enhanced-rml-middleware">[Enhanced] RML middleware<a class="headerlink" href="#enhanced-rml-middleware" title="Permanent link">&para;</a></h3>
<p>RML <code>map()</code> middleware now allows a string Source and a string primitive as input.</p>
<h3 id="enhanced-static-vocabularies">[Enhanced] Static vocabularies<a class="headerlink" href="#enhanced-static-vocabularies" title="Permanent link">&para;</a></h3>
<p>With the latest update, TriplyETL vocabularies are now represented as <code>Vocabulary</code> objects, replacing the previous usage of objects with the type <code>IRI</code>. This change may necessitate adjustments to existing ETLs that utilize static vocabularies, such as <code>aat</code>. In this case, the vocabulary would need to be updated to <code>aat.toIri()</code> to ensure compatibility with the correct type.</p>
<h3 id="enhanced-npm-packages">[Enhanced] NPM packages<a class="headerlink" href="#enhanced-npm-packages" title="Permanent link">&para;</a></h3>
<p>All NPM packages are up to date with their latest version.</p>
<h3 id="fixed-base-iri-when-using-loadrdf">[Fixed] Base IRI when using <code>loadRdf()</code><a class="headerlink" href="#fixed-base-iri-when-using-loadrdf" title="Permanent link">&para;</a></h3>
<p>There were some inconsistency between the expected base IRI. For example, the following snippet:</p>
<pre><code class="language-ts">import { logQuads } from '@triplyetl/etl/debug'
import { Etl, loadRdf, Source } from '@triplyetl/etl/generic'

export default async function (): Promise&lt;Etl&gt; {
  const etl = new Etl()
  etl.use(
    loadRdf(Source.string('&lt;s&gt;&lt;p&gt;&lt;o&gt;.')),
    logQuads(),
  )
  return etl
}
</code></pre>
<p>would result in:</p>
<pre><code class="language-ttl">&lt;https://triplydb.com/graph/default&gt; {
&lt;https://triplydb.com/graph/s&gt; &lt;https://triplydb.com/graph/p&gt; &lt;https://triplydb.com/graph/o&gt;
}
</code></pre>
<p>rather than:</p>
<pre><code class="language-ttl">&lt;https://triplydb.com/graph/default&gt; {
&lt;https://triplydb.com/s&gt; &lt;https://triplydb.com/p&gt; &lt;https://triplydb.com/o&gt;
}
</code></pre>
<p>This issue has been fixed.</p>
<h3 id="fixed-string-encoding-for-iris">[Fixed] String encoding for IRIs<a class="headerlink" href="#fixed-string-encoding-for-iris" title="Permanent link">&para;</a></h3>
<p>It is now possible to check whether a value of a key used to create an IRI contains valid characters.
A previous warning incorrectly flagged a space (' ') as an invalid character in the IRI, but that has been taken care of that. Now, when you run the script, you won't encounter the misleading warning, providing a more accurate and hassle-free execution.</p>
<p>In this case, [1] is resulting in [2] instead of invalid [3]:</p>
<pre><code>[1] a b
[2] http://ex.com/a%20b
[3] http://ex.com/ a b
</code></pre>
<p>As well as [4] being encoded as [5]:</p>
<pre><code>[4] a&amp;b
[5] a&amp;amp;b
</code></pre>
<p>Or [6] can be legitimately encoded in CSV using [7]:</p>
<pre><code>[6] a,b
[7] &quot;a,b&quot;
</code></pre>
<h3 id="fixed-new-datatype-added-to-addpoint-middleware">[Fixed] New datatype added to <code>addPoint()</code> middleware<a class="headerlink" href="#fixed-new-datatype-added-to-addpoint-middleware" title="Permanent link">&para;</a></h3>
<p>Datatype <code>wktLiteral</code> has been added to the <code>addPoint()</code> middleware.</p>
<h2 id="triplyetl-3020">TriplyETL 3.0.20<a class="headerlink" href="#triplyetl-3020" title="Permanent link">&para;</a></h2>
<p>Release date: 2024-01-04</p>
<h3 id="enhanced-improved-copysource-function">[Enhanced] Improved <code>copySource()</code> function<a class="headerlink" href="#enhanced-improved-copysource-function" title="Permanent link">&para;</a></h3>
<p>Function etl.copySource() accepts the same destination format as toTriplyDB(), so that the same destination does not need to be specified twice.</p>
<h3 id="enhanced-prefix-uploading">[Enhanced] Prefix uploading<a class="headerlink" href="#enhanced-prefix-uploading" title="Permanent link">&para;</a></h3>
<p>Prefixes are no longer uploaded by default, only explicit prefixes that are defined when constructing an ETL with <code>new Etl({ prefixes })</code>.</p>
<h2 id="triplyetl-3015-through-3018">TriplyETL 3.0.15 through 3.0.18<a class="headerlink" href="#triplyetl-3015-through-3018" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-12-07 through 2023-12-28</p>
<h3 id="enhanced-rdf-compression-before-upload">[Enhanced] RDF compression before upload<a class="headerlink" href="#enhanced-rdf-compression-before-upload" title="Permanent link">&para;</a></h3>
<p>It is now possible to enable compression of RDF data before being uploaded to TriplyDB. See the <a href="../../publish/">toRdf()</a> function for more information.</p>
<h3 id="enhanced-skolem-iri-prefix-use">[Enhanced] Skolem IRI prefix use<a class="headerlink" href="#enhanced-skolem-iri-prefix-use" title="Permanent link">&para;</a></h3>
<p>TriplyETL now emits an error when a Skolem IRI prefix is used with <a href="../../transform/ratt/#addhashediri">addHashedIri()</a>.</p>
<h3 id="bug-fixes_1">Bug fixes<a class="headerlink" href="#bug-fixes_1" title="Permanent link">&para;</a></h3>
<p>This release provides bug fixes to XSLT support (see <a href="../../transform/xslt/">XSLT Transformations</a> and <a href="../../assert/xslt/">XSLT Assertions</a>).</p>
<h2 id="triplyetl-3014">TriplyETL 3.0.14<a class="headerlink" href="#triplyetl-3014" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-12-04</p>
<h3 id="added-support-for-rml">[Added] Support for RML<a class="headerlink" href="#added-support-for-rml" title="Permanent link">&para;</a></h3>
<p>This release introduces support for the RML transformation and assertion language. RML is an ETL configuration language that has gained traction in the linked data community over the last couple of years. See the following pages for more information:</p>
<ul>
<li><a href="../../transform/rml/">RML Transformations</a></li>
<li><a href="../../assert/rml/">RML Assertions</a></li>
</ul>
<h3 id="build-environments-beyond-the-dtap-defaults">[Build] Environments beyond the DTAP defaults<a class="headerlink" href="#build-environments-beyond-the-dtap-defaults" title="Permanent link">&para;</a></h3>
<p>It is now possible to extend the standard environments offered by TriplyETL.</p>
<h3 id="bug-fixes_2">Bug fixes<a class="headerlink" href="#bug-fixes_2" title="Permanent link">&para;</a></h3>
<p>This release fixes a URL/request-related error in the <a href="../../extract/oai-pmh/">fromOai</a> extractor.</p>
<h2 id="triplyetl-307-through-309">TriplyETL 3.0.7 through 3.0.9<a class="headerlink" href="#triplyetl-307-through-309" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-11-29</p>
<h3 id="added-cli-flag-to-skip-version-check">[Added] CLI flag to skip version check<a class="headerlink" href="#added-cli-flag-to-skip-version-check" title="Permanent link">&para;</a></h3>
<p>Introduced the cli flag <code>--skip-version-check</code> because some users can not use remote connections because of security policies.</p>
<h3 id="added-support-for-jpath-expressions">[Added] Support for JPath expressions<a class="headerlink" href="#added-support-for-jpath-expressions" title="Permanent link">&para;</a></h3>
<p><code>toJson()</code> middleware now uses path selectors just as <code>fromXml()</code>, but also JPath expressions.</p>
<h3 id="added-authentication-for-the-oai-pmh-extractor">[Added] Authentication for the OAI-PMH extractor<a class="headerlink" href="#added-authentication-for-the-oai-pmh-extractor" title="Permanent link">&para;</a></h3>
<p><code>fromOai()</code> now accepts a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request"><code>Request</code> object</a> as the value for the <code>url</code> option, allowing more fine graded use of the HTTP request (including authentication information).</p>
<h3 id="added-xslt-support-for-the-oai-pmh-extractor">[Added] XSLT support for the OAI-PMH extractor<a class="headerlink" href="#added-xslt-support-for-the-oai-pmh-extractor" title="Permanent link">&para;</a></h3>
<p><code>fromOai()</code> now accepts an optional parameter <code>stylesheet</code>. The argument must be an object with 1 required key <code>source</code> pointing to the source of the stylesheet and 1 optional argument <code>yieldsRdf</code>. When provided the XSL Stylesheet <code>source</code> is processed using the OAI response. The result of the transformation must still be a valid OAI response.</p>
<h3 id="bug-fixes_3">Bug fixes<a class="headerlink" href="#bug-fixes_3" title="Permanent link">&para;</a></h3>
<p>Fixes issue where keys that are used for internal administration were shown in logged records, after using the <code>ifElse()</code> and <code>switch()</code> control structures.</p>
<h2 id="triplyetl-306">TriplyETL 3.0.6<a class="headerlink" href="#triplyetl-306" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-11-14</p>
<h3 id="bug-fixes_4">Bug fixes<a class="headerlink" href="#bug-fixes_4" title="Permanent link">&para;</a></h3>
<p>This release fixes issues with upstream packages that contained breaking changes.</p>
<h2 id="triplyetl-305">TriplyETL 3.0.5<a class="headerlink" href="#triplyetl-305" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-11-09</p>
<h3 id="bug-fixes_5">Bug fixes<a class="headerlink" href="#bug-fixes_5" title="Permanent link">&para;</a></h3>
<p>The progress bar would sometimes terminate at 99% or 101%, instead of the expected 100%.</p>
<h2 id="triplyetl-304">TriplyETL 3.0.4<a class="headerlink" href="#triplyetl-304" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-11-07</p>
<h3 id="added-dataset-metadata-specification">[Added] Dataset metadata specification<a class="headerlink" href="#added-dataset-metadata-specification" title="Permanent link">&para;</a></h3>
<p>It is now possible to use metadata when creating datasets. If a new dataset is created then the metadata is always used, for existing datasets you can choose to ignore, merge or replace existing metadata. This feature is to prevent ETLs accidentally overwriting metadata might have changed in the UI/Dashboard of their TriplyDB instance.</p>
<p>The following options are available for this new feature in the <code>opts.existingMetadata</code> parameter:</p>
<ul>
<li><code>ignore</code>: no metadata will be changed even if no metadata is present for this dataset (this is the default value)</li>
<li><code>merge</code>: only properties that have no value will be overwritten bij the provided metadata</li>
<li><code>replace</code>: all existing metadata will be replaced, even if the provided metadata contains empty keys</li>
</ul>
<h3 id="cli-reverse-logic-for-creating-error-traces">[CLI] Reverse logic for creating error traces<a class="headerlink" href="#cli-reverse-logic-for-creating-error-traces" title="Permanent link">&para;</a></h3>
<p>Before this release, running an ETL would always create an error trace file. It was possible to disable this behavior with CLI flag <code>--skip-error-trace</code>. Starting in this release, the error trace file is no longer created by default, and a newly added CLI flag <code>--create-error-trace</code> must now be specified in order ot create the error trace file.</p>
<h3 id="bug-fixes_6">Bug fixes<a class="headerlink" href="#bug-fixes_6" title="Permanent link">&para;</a></h3>
<p>The following bugs were fixed:</p>
<ul>
<li>The number of synchronized services was not always reported correctly in CLI output.</li>
<li>A package we depend on introduced a breaking change causing a function not to be there anymore.</li>
</ul>
<h2 id="triplyetl-303">TriplyETL 3.0.3<a class="headerlink" href="#triplyetl-303" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-11-01</p>
<h2 id="changed-support-for-the-nde-dataset-register">[Changed] Support for the NDE Dataset Register<a class="headerlink" href="#changed-support-for-the-nde-dataset-register" title="Permanent link">&para;</a></h2>
<p>The code to submit datasets to the <a href="https://datasetregister.netwerkdigitaalerfgoed.nl">NDE Dataset Register</a> has been moved to TriplyDB-JS. The way to publish a dataset now is to add an option to the <code>toTriplyDb()</code> function: <code>{ submitToNDEDatasetRegister: true }</code>.</p>
<p>Example:</p>
<pre><code class="language-ts">toTriplyDb({dataset: 'nde', opts: {submitToNDEDatasetRegister: true}})
</code></pre>
<h2 id="triplyetl-302">TriplyETL 3.0.2<a class="headerlink" href="#triplyetl-302" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-10-23</p>
<h3 id="added-static-statement-assertion">[Added] Static statement assertion<a class="headerlink" href="#added-static-statement-assertion" title="Permanent link">&para;</a></h3>
<pre><code class="language-ts">export default async function(): Promise&lt;Etl&gt; {
  const etl = new Etl({baseIri: Iri('https://example.com/')})
  await etl.staticAssertions(
    pairs(
      iri(etl.standardGraphs.default),
      [a, dcat.Dataset],
      [skos.prefLabel, literal(str(&quot;Family Doe&quot;), lang.en)],
      [dct.created, literal(str(new Date().toISOString()), xsd.dateTime)],
    ),
  );
  await etl.staticAssertions(
    pairs(iri(etl.standardGraphs.default), [skos.prefLabel, literal(str(&quot;Familie Doe&quot;), lang.nl)]),
  );
  etl.use(
    fromJson([{ name: &quot;John Doe&quot; }, { name: &quot;Jane Doe&quot; }]),
    triple(iri(etl.standardPrefixes.id, &quot;$recordId&quot;), sdo.name, &quot;name&quot;),
    logQuads(),
  );
  return etl
}
</code></pre>
<p>You can now assert so called "static triples": triples that are not related to the source extractors but should only be asserted once per ETL.</p>
<h3 id="bug-fixes_7">Bug fixes<a class="headerlink" href="#bug-fixes_7" title="Permanent link">&para;</a></h3>
<p>There was an error in the <a href="../control-structures/#specify-multiple-conditions-ifelse">ifElse()</a> control structure, that caused ETLs to not use the fallback 'else' block in some situations.</p>
<h2 id="triplyetl-301">TriplyETL 3.0.1<a class="headerlink" href="#triplyetl-301" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-10-19</p>
<h3 id="enhanced-source-string-validation">[Enhanced] Source string validation<a class="headerlink" href="#enhanced-source-string-validation" title="Permanent link">&para;</a></h3>
<p>The <code>addLiteral()</code> function can now validate string data that occurs in the Record. Such validation can be used in addition to validation in the Internal Store (graph comparison and SHACL validation). Look at the documentation of <a href="../../assert/ratt/terms/"><code>addLiteral()</code></a> for more information.</p>
<h3 id="enhanced-synchronize-specific-services">[Enhanced] Synchronize specific services<a class="headerlink" href="#enhanced-synchronize-specific-services" title="Permanent link">&para;</a></h3>
<p>When publishing linked data to TriplyDB, it is now possible to synchronize one specific service. This is specifically useful in case an Acceptance and a Production service are used, and only the former should be synchronized. See the documentation for publishing to <a href="../../publish/#remote-data-destinations">remote data destinations</a> for more information.</p>
<h3 id="fixed-bug-fixes">[Fixed] Bug fixes<a class="headerlink" href="#fixed-bug-fixes" title="Permanent link">&para;</a></h3>
<p>The following bugs have been fixed:</p>
<ul>
<li>The progress bar would sometimes go over 100%.</li>
<li>the error report file (<code>etl.err</code>) would sometimes contain sentinel keys like <code>$sentinel-${MD5-HASH}</code>. These sentinel keys are used for internal bookkeeping in TriplyETL, and are no longer part of the Record.</li>
<li>Some XSLT transformations failed on Windows, because of incorrect redirecting of error messages.</li>
</ul>
<h2 id="triplyetl-300">TriplyETL 3.0.0<a class="headerlink" href="#triplyetl-300" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-10-12</p>
<h3 id="added-support-for-xslt">[Added] Support for XSLT<a class="headerlink" href="#added-support-for-xslt" title="Permanent link">&para;</a></h3>
<p>Support was added for the Extensible Stylesheet Language Transformations (XSLT) configuration language. This can be used in the following two functions:</p>
<ol>
<li>The <a href="../../extract/xml/">fromXml()</a> extractor function, for XML sources that transformed to regular XML.</li>
<li>The <a href="../../extract/rdf/">loadRdf()</a> function, for XML sources that are transformed into RDF/XML.</li>
</ol>
<p>In both cases, this functionality is used by configuring the <code>stylesheet</code> parameter with an XSLT Stylesheet (e.g. using <code>Source.file()</code>).</p>
<p>Example code that uses <code>fromXml()</code>:</p>
<pre><code class="language-ts">fromXml(Source.file(XMLFile), {
        selectors: &quot;rdf:RDF.sdo:Person&quot;,
        stylesheet: Source.file(XSLTStylesheet),
      }),
</code></pre>
<p>Example code that uses <code>loadRdf()</code>:</p>
<pre><code class="language-ts">loadRdf(Source.file(XMLFile), {
        contentType: &quot;application/rdf+xml&quot;,
        stylesheet: Source.file(XSLTStylesheet),
      }),
</code></pre>
<h3 id="added-support-for-the-sparql-select-and-sparql-ask-queries">[Added] Support for the <code>SPARQL Select</code> and <code>SPARQL Ask</code> queries<a class="headerlink" href="#added-support-for-the-sparql-select-and-sparql-ask-queries" title="Permanent link">&para;</a></h3>
<p>The extractors <a href="../../extract/csv/">fromCsv()</a>, <a href="../../extract/json/">fromJson()</a>, <a href="../../extract/tsv/">fromTsv()</a> and <a href="../../extract/xml/">fromXml()</a> now support <a href="../../sources/triplydb-queries/#sparql-select-queries">SPARQL Select</a> queries.</p>
<p>The extractors <a href="../../extract/json/">fromJson()</a> and <a href="../../extract/xml/">fromXml()</a> also support <a href="../../sources/triplydb-queries/#sparql-ask-queries">SPARQL Ask</a> queries.</p>
<p>The example below hows how to use a SPARQL ask query in the <code>fromJson()</code> extractor:</p>
<pre><code class="language-ts">fromJson(Source.TriplyDb.query('account', 'query-name', { triplyDb: { url: 'https://api.triplydb.com' } }))
</code></pre>
<h3 id="enhanced-simplified-usage-of-nestedpairs">[Enhanced] Simplified usage of 'nestedPairs()'<a class="headerlink" href="#enhanced-simplified-usage-of-nestedpairs" title="Permanent link">&para;</a></h3>
<p>The <a href="../../assert/ratt/statements/#nestedpairs">nestedPairs()</a> middleware can be used without providing the subject node that connects the pairs to the object/predicate. This will automatically create a Skolem IRI for the subject:</p>
<pre><code class="language-ts">nestedPairs(S, P, [a, sdo.Person])
</code></pre>
<p>For example:</p>
<pre><code class="language-ts">fromJson([{ id: '1', height: 15 }]),
addSkolemIri({
  prefix: prefix.skolem,
  key: '_height',
}),
nestedPairs(iri(prefix.product, 'id'), sdo.height,
  [qudt.unit, unit.CentiM],
  [rdf.value, 'height'],
),
</code></pre>
<p>Will result in the following linked data assertions:</p>
<pre><code class="language-ts">product:1
  sdo:height
    [ qudt:unit unit:CentiM;
      rdf:value 15 ].
</code></pre>
<h3 id="changed-automatic-prefix-handling-in-triplydb-using-tordf">[Changed] Automatic prefix handling in TriplyDB using 'toRdf()'<a class="headerlink" href="#changed-automatic-prefix-handling-in-triplydb-using-tordf" title="Permanent link">&para;</a></h3>
<p>Manually specified and standard prefixes are automatically added to TriplyDB when <a href="../../publish/#local-data-destinations">toRdf()</a> is used. The middleware <code>uploadPrefixes()</code> is removed.</p>
<h3 id="changed-new-approach-to-prefix-handling-in-triplyetl">[Changed] New approach to prefix handling in TriplyETL<a class="headerlink" href="#changed-new-approach-to-prefix-handling-in-triplyetl" title="Permanent link">&para;</a></h3>
<p>Prefixes are no longer defined as function that concatenates a value to an Iri. The Iri is a new type of Object in TriplyETL, that has a <code>concat()</code> method which allows you to add a value to the first part of an Iri. For example:</p>
<pre><code class="language-ts">const baseIri = Iri('https://example.com/')
const prefixId = baseIri.concat('id/')
const johnDoe = prefixId.concat('john-doe')
</code></pre>
<h3 id="changed-new-package-triplyetlvocabularies">[Changed] New package '@triplyetl/vocabularies'<a class="headerlink" href="#changed-new-package-triplyetlvocabularies" title="Permanent link">&para;</a></h3>
<p>The vocabularies and languages are no longer part of <code>@triplyetl/etl</code> package. A new module has been released: <code>@triplyetl/vocabularies</code>:</p>
<p>Individual vocabularies like <code>rdf</code> and <code>schema.org</code> can be imported in the following way:</p>
<pre><code class="language-ts">import { a, rdf, sdo } from '@triplyetl/vocabularies'
</code></pre>
<p>To import all vocabularies, use:</p>
<pre><code class="language-ts">import * as vocab from &quot;@triplyetl/vocabularies&quot;
</code></pre>
<p>Some vocabularies are too large to include, but they can still be used like this:</p>
<pre><code class="language-ts">import { aat } from '@triplyetl/vocabularies'
const moustache = aat.concat('300379271')
</code></pre>
<p>or</p>
<pre><code class="language-ts">import { aat } from '@triplyetl/vocabularies'
addIri({prefix: aat, content: str('300379271'), key: 'moustache'})
</code></pre>
<p><strong>To use the RATT <code>lang</code> tools</strong>:</p>
<p>Import <code>languages</code>:</p>
<pre><code class="language-ts">import { languages } from '@triplyetl/vocabularies'
</code></pre>
<p>Import <code>languages</code> and <code>region</code>:</p>
<pre><code class="language-ts">import { region, language } from '@triplyetl/vocabularies'

const nl_BE = language.nl.addRegion(region.BE)
</code></pre>
<h3 id="changed-rdf-serialization-parsing-with-loadrdf">[Changed] RDF serialization parsing with 'loadRdf()'<a class="headerlink" href="#changed-rdf-serialization-parsing-with-loadrdf" title="Permanent link">&para;</a></h3>
<p>The <a href="../../extract/rdf/">loadRdf()</a> function is able to parse known RDF serializations (<code>Turtle</code>, <code>TriG</code>, <code>N-Triples</code>, <code>N-Quads</code>) provided as a string without specifying mimetype.</p>
<pre><code class="language-ts">const data = Source.string('...')
loadRdf(data)
</code></pre>
<h3 id="changed-extended-log-and-terminal-output-for-etl-debugging">[Changed] Extended log and terminal output for ETL debugging<a class="headerlink" href="#changed-extended-log-and-terminal-output-for-etl-debugging" title="Permanent link">&para;</a></h3>
<p>The output of the logfile and terminal output is changed. It contains more information to help users debugging ETL's. The format of time representation is now <code>H:i:s.u</code> where:</p>
<ul>
<li><strong>H</strong>: 24-hour format of an hour with leading zeros    (00 through 23)</li>
<li><strong>i</strong>: Minutes with leading zeros  (00 to 59)</li>
<li><strong>s</strong>: Seconds with leading zeros (00 through 59)</li>
<li><strong>u</strong>: Microseconds (example: 654321)</li>
</ul>
<h3 id="changed-tordf-for-account-based-token-access">[Changed] 'toRdf()' for account-based token access<a class="headerlink" href="#changed-tordf-for-account-based-token-access" title="Permanent link">&para;</a></h3>
<p>The <a href="../../publish/#local-data-destinations">toRdf()</a> middleware now accepts <code>"me"</code> as account name based on the token.
Below are some examples of this being used.</p>
<pre><code class="language-ts">toTriplyDb({account: &quot;me&quot;, dataset: &quot;myDataset&quot;})
</code></pre>
<pre><code class="language-ts">loadRdf(Source.TriplyDb.rdf(&quot;me&quot;, datasetName))
</code></pre>
<pre><code class="language-ts">Destination.TriplyDb.rdf(&quot;me&quot;, datasetName)
</code></pre>
<h3 id="changed-relocation-middleware-resetstore-and-randomkey">[Changed] Relocation middleware: 'resetStore()' and 'randomKey()'<a class="headerlink" href="#changed-relocation-middleware-resetstore-and-randomkey" title="Permanent link">&para;</a></h3>
<p>The <code>resetStore()</code> middleware is now moved from <code>ratt</code> to the <code>generic</code> namespace . The <code>randomKey()</code> middleware moved from <code>generic</code> to <code>ratt</code>.</p>
<h3 id="changed-record-selection-with-offset-and-limit">[Changed] Record selection with '--offset' and '--limit'<a class="headerlink" href="#changed-record-selection-with-offset-and-limit" title="Permanent link">&para;</a></h3>
<p>You can now use <code>--offset</code> and <code>--limit</code> instead of <code>--from-record-id</code> and <code>--head</code>, e.g. <code>LIMIT=1 OFFSET=8 npx etl</code>. The old arguments can still be used for backwards compatibility.</p>
<h3 id="changed-removal-of-mapquads">[Changed] Removal of 'mapQuads()'<a class="headerlink" href="#changed-removal-of-mapquads" title="Permanent link">&para;</a></h3>
<p>The <code>mapQuads()</code> function was removed.</p>
<h3 id="changed-warning-for-old-nodejs-versions">[Changed] Warning for old Node.JS versions<a class="headerlink" href="#changed-warning-for-old-nodejs-versions" title="Permanent link">&para;</a></h3>
<p>If the users Node.JS version is older that the recommended version (currently &gt;=18.0.0) a warning is shown.</p>
<h3 id="changed-shacl-validation-engine">[Changed] SHACL Validation Engine<a class="headerlink" href="#changed-shacl-validation-engine" title="Permanent link">&para;</a></h3>
<p>A SHACL Validation Engine improved performance.</p>
<h3 id="changed-trace-for-large-records">[Changed] Trace for large records<a class="headerlink" href="#changed-trace-for-large-records" title="Permanent link">&para;</a></h3>
<p>A new flag now bypasses generating the trace for very large records: <code>---skip-error-trace</code>. Thus, no trace file is created.</p>
<h3 id="changed-transition-to-in-memory-engine-speedy">[Changed] Transition to in-memory engine Speedy<a class="headerlink" href="#changed-transition-to-in-memory-engine-speedy" title="Permanent link">&para;</a></h3>
<p><a href="https://comunica.dev">Comunica</a> is no longer part of TriplyETL, the in-memory engine is now Triply's Speedy.</p>
<h3 id="enhanced-improvements-to-etl-logs">[Enhanced] Improvements to ETL logs<a class="headerlink" href="#enhanced-improvements-to-etl-logs" title="Permanent link">&para;</a></h3>
<p>The logging format was improved by including the following information:</p>
<ul>
<li>the TriplyETL version</li>
<li>the Node.js version</li>
<li>the <a href="../maintenance/#dtap-configuration">DTAP</a> mode</li>
<li>the start date and time</li>
<li>the end date and time</li>
</ul>
<h3 id="enhanced-prevent-using-multiple-extractors">[Enhanced] Prevent using multiple extractors<a class="headerlink" href="#enhanced-prevent-using-multiple-extractors" title="Permanent link">&para;</a></h3>
<p>TriplyETL only supports one <a href="../../extract/">extractor</a> per ETL configuration object. In the past, it was possible to use multiple extractors, which would result in faulty behavior during ETL runs. Starting in this release, TriplyETL will emit an error when multiple extractors are used.</p>
<h3 id="enhanced-better-error-reporting-for-csv-tsv-and-xml-sources">[Enhanced] Better error reporting for CSV, TSV, and XML sources.<a class="headerlink" href="#enhanced-better-error-reporting-for-csv-tsv-and-xml-sources" title="Permanent link">&para;</a></h3>
<p>In previous releases, the extractor functions <a href="../../extract/csv/">fromCsv()</a>, <a href="../../extract/tsv/">fromTsv()</a>, and <a href="../../extract/xml/">fromXml()</a> would not emit the file name in case an error occurred. This was specifically problematic when a large number of data source files were used. Starting in this release, the file name is included in error message.</p>
<h2 id="enhanced-default-crs-for-wktaddpoint">[Enhanced] Default CRS for 'wkt.addPoint()'<a class="headerlink" href="#enhanced-default-crs-for-wktaddpoint" title="Permanent link">&para;</a></h2>
<p>In previous releases, the Coordinate Reference System (CRS) was a required attribute for transformation function <a href="../../transform/ratt/#wkt-addpoint">wkt.addPoint()</a>. Starting in this release, the CRS argument has become optional. When not specified, the default CRS <a href="http://www.opengis.net/def/crs/OGC/1.3/CRS84">http://www.opengis.net/def/crs/OGC/1.3/CRS84</a> is used.</p>
<h3 id="enhanced-handle-conflicting-triplydb-instance-specifications">[Enhanced] Handle conflicting TriplyDB instance specifications<a class="headerlink" href="#enhanced-handle-conflicting-triplydb-instance-specifications" title="Permanent link">&para;</a></h3>
<p>In previous releases, it was possible to introduce an ambiguity in specify the TriplyDB instance to publish data to. This was possible by (1) specifying a TriplyDB API Token in the environment (e.g. though an <code>.env</code> file), and (2) by configuring the <code>triplyDb</code> option in the <a href="../../extract/rdf/">loadRdf()</a> function. Starting in this release, TriplyETL will emit an error if the TriplyDB instance in the API Token differs from the TriplyDB instance configured in the <code>triplyDb</code> option.</p>
<h3 id="enhanced-more-information-for-failing-http-calls">[Enhanced] More information for failing HTTP calls<a class="headerlink" href="#enhanced-more-information-for-failing-http-calls" title="Permanent link">&para;</a></h3>
<p>In previous releases, when a failing HTTP call resulted in an error message, only the body of that HTTP call would be included in the error message. Starting in this release, the HTTP status code of the failing HTTP call is included in the error message as well.</p>
<h3 id="bug-fixes_8">Bug fixes<a class="headerlink" href="#bug-fixes_8" title="Permanent link">&para;</a></h3>
<p>This release fixes several out-of-memory bugs in the <a href="../../validate/">SHACL validation function</a>.</p>
<h2 id="triplyetl-207-through-2019">TriplyETL 2.0.7 through 2.0.19<a class="headerlink" href="#triplyetl-207-through-2019" title="Permanent link">&para;</a></h2>
<p>Release dates: 2023-06-17 through 2023-09-29</p>
<h3 id="bug-fixes_9">Bug fixes<a class="headerlink" href="#bug-fixes_9" title="Permanent link">&para;</a></h3>
<p>The following bugs were fixed:</p>
<ul>
<li>Processing an Excel sheet with <a href="../../extract/xml/">fromXml()</a> would sometimes consume too much memory.</li>
<li>Several installation issues on Windows have been resolved.</li>
<li>The <code>async-saxophone</code> library for XML processing was adjusted to support the current LTS version of Node.js (v18).</li>
</ul>
<h2 id="triplyetl-206">TriplyETL 2.0.6<a class="headerlink" href="#triplyetl-206" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-06-07</p>
<h3 id="added-support-for-the-premis-vocabulary">[Added] Support for the PREMIS vocabulary<a class="headerlink" href="#added-support-for-the-premis-vocabulary" title="Permanent link">&para;</a></h3>
<p>Support was added for the PREMIS 3.0.0 vocabulary. This vocabulary is published by the Library of Congress and can be used to publish metadata about the preservation of digital objects. See the <a href="https://id.loc.gov/ontologies/premis-3-0-0.html">PREMIS documentation</a> for more information.</p>
<p>The vocabulary can be imported from the 'vocab' module:</p>
<pre><code class="language-ts">import { premis } from '@triplyetl/vocabularies'
</code></pre>
<p>See the documentation on <a href="../declarations/#external-vocabularies">external vocabulary declarations</a> for more information.</p>
<h3 id="added-new-debug-function-logmemory">[Added] New debug function logMemory()<a class="headerlink" href="#added-new-debug-function-logmemory" title="Permanent link">&para;</a></h3>
<p>A new debug function <a href="../debug/#logmemory">logMemory()</a> is added. This function prints an overview of the current memory usage of TriplyETL. This allows users to detect fluctuations in memory consumption inside their pipelines.</p>
<h3 id="added-support-for-the-listidentifiers-verb-in-the-oai-pmh-extractor">[Added] Support for the 'ListIdentifiers' verb in the OAI-PMH extractor<a class="headerlink" href="#added-support-for-the-listidentifiers-verb-in-the-oai-pmh-extractor" title="Permanent link">&para;</a></h3>
<p>The <a href="../../extract/oai-pmh/">fromOai()</a> extractor already supported the <code>ListRecords</code> verb. This release adds support for the <a href="../../extract/oai-pmh/#verb-listidentifiers">ListIdentifiers</a> verb as well. This new verb allows users to stream through the headers of all records in an OAI-PMH collection, without requiring the full record (i.e. body) to be retrieved.</p>
<h2 id="triplyetl-205">TriplyETL 2.0.5<a class="headerlink" href="#triplyetl-205" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-05-25</p>
<h3 id="changed-new-default-engine-for-sparql-construct">[Changed] New default engine for SPARQL Construct<a class="headerlink" href="#changed-new-default-engine-for-sparql-construct" title="Permanent link">&para;</a></h3>
<p>The default engine for evaluating SPARQL Construct queries (function <a href="../../enrich/sparql/construct/">construct()</a>) has changed from Comunica to Speedy. Speedy is a new SPARQL engine that is developed by Triply. Comunica is an open source engine that is developed by the open source community. Since SPARQL is a standardized query language, this change should not cause a difference in behavior for your ETL pipelines.</p>
<p>In the unexpected case where an ETL pipeline <em>is</em> negatively affected by this change, the old situation can be restored by explicitly configuring the Comunica engine:</p>
<pre><code class="language-ts">import { construct } from '@triplyetl/etl/sparql'

construct(Source.TriplyDb.query('my-query'), { sparqlEngine: 'comunica' }),
</code></pre>
<p>The benefit of switching to the Speedy engine is that this engine is expected to be faster for most queries. Overall, this change will therefore result in speed improvements for your TriplyETL pipelines.</p>
<h3 id="added-new-cli-tool-for-comparing-graphs">[Added] New CLI tool for comparing graphs<a class="headerlink" href="#added-new-cli-tool-for-comparing-graphs" title="Permanent link">&para;</a></h3>
<p>The new CLI tool <a href="../cli/#compare">compare</a> allows graph comparison to be performed from the command-line. This uses the same algorithm that is used by the <a href="../../validate/graph-comparison/">compareGraphs()</a> validation function.</p>
<h3 id="bug-fixes_10">Bug fixes<a class="headerlink" href="#bug-fixes_10" title="Permanent link">&para;</a></h3>
<p>This release fixes the following bugs:</p>
<ul>
<li><a href="../../extract/xlsx/">fromXlsx()</a> did not remove trailing whitespace in cell values.</li>
<li>When a SHACL result was printed, an incorrect message about a faulty SHACL model was shown.</li>
<li>Some RDF processors did not handle empty RDF inputs correctly.</li>
</ul>
<h2 id="triplyetl-204">TriplyETL 2.0.4<a class="headerlink" href="#triplyetl-204" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-05-11</p>
<h3 id="enhanced-better-output-for-graph-comparison">[Enhanced] Better output for graph comparison<a class="headerlink" href="#enhanced-better-output-for-graph-comparison" title="Permanent link">&para;</a></h3>
<p>Before this release, when two graphs were not isomorph and their difference consisted of a mapping from blank nodes onto blank nodes exclusively, an empty difference message was communicated.</p>
<p>From this release onwards, the difference message is non-empty, and specifically indicates the difference between the non-isomorphic graphs in terms of the mismatching blank nodes.</p>
<p>Look at <a href="../../validate/graph-comparison/#graph-comparison-failure">this example</a> from the graph comparison documentation, which emits such a difference message.</p>
<h2 id="triplyetl-203">TriplyETL 2.0.3<a class="headerlink" href="#triplyetl-203" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-05-10</p>
<h3 id="bug-fixes_11">Bug fixes<a class="headerlink" href="#bug-fixes_11" title="Permanent link">&para;</a></h3>
<p>This release includes the following bug fixes:</p>
<ul>
<li>
<p>Error location information is not shown in TriplyETL Runner.</p>
</li>
<li>
<p>Issue when a URL data source (<code>Source.url()</code>) includes an HTTP body.</p>
</li>
</ul>
<h2 id="triplyetl-202">TriplyETL 2.0.2<a class="headerlink" href="#triplyetl-202" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-05-09</p>
<h3 id="bug-fixes_12">Bug fixes<a class="headerlink" href="#bug-fixes_12" title="Permanent link">&para;</a></h3>
<p>This release fixes bugs related to the recent switch from CommonJS to ESM:</p>
<ul>
<li>
<p>Dynamic import bug on Windows.</p>
</li>
<li>
<p>Error reporting issues due to ESM imports.</p>
</li>
</ul>
<h2 id="triplyetl-201">TriplyETL 2.0.1<a class="headerlink" href="#triplyetl-201" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-05-03</p>
<h3 id="added-timeout-flag-for-triplyetl-runner">[Added] Timeout flag for TriplyETL Runner<a class="headerlink" href="#added-timeout-flag-for-triplyetl-runner" title="Permanent link">&para;</a></h3>
<p>The TriplyETL Runner is the CLI tool that is used to run ETL pipelines. Starting with this version, you can specify a <code>--timeout</code> flag when using the TriplyETL Runner.</p>
<p>When the indicated timeout is reached before the pipeline finishes, the TriplyETL Runner will gracefully terminate the ETL by acting as if there are no more incoming records.</p>
<p>See the <a href="../cli/#set-a-timeout">TriplyETL Runner documentation page</a> for more information.</p>
<h2 id="triplyetl-200">TriplyETL 2.0.0<a class="headerlink" href="#triplyetl-200" title="Permanent link">&para;</a></h2>
<p>Release date: 2023-05-01</p>
<h3 id="changed-modules-infrastructure-moves-from-commonjs-to-esm">[Changed] Modules infrastructure moves from CommonJS to ESM<a class="headerlink" href="#changed-modules-infrastructure-moves-from-commonjs-to-esm" title="Permanent link">&para;</a></h3>
<p>Before this release, TriplyETL used CommonJS modules to modularize its functionality into different components. Starting in this release, ECMAScript Modules (ESM) are used to modularize TriplyETL functionality into different modules.</p>
<p>ESM is a more modern approach for modularizing ECMAScript (JavaScript, TypeScript, and Node.js) code. While CommonJS imports are evaluated at runtime, ESM imports are evaluated at compile time. TriplyETL users benefit from this change, since error messages related to module imports will be detected much earlier in the development process.</p>
<p>All documentation examples were update to use ESM syntax for module imports, for example:</p>
<pre><code class="language-ts">import { logRecord } from '@triplyetl/etl/debug'
</code></pre>
<h3 id="changed-debug-functions-move-to-a-new-module">[Changed] Debug functions move to a new module<a class="headerlink" href="#changed-debug-functions-move-to-a-new-module" title="Permanent link">&para;</a></h3>
<p>Before this release, debug functions like <code>logRecord()</code> and <code>startTrace()</code> were part of the RATT module. Since debug functions can be used in combination with any ETL configuration approach, they were moved to a new module.</p>
<p>The debug functions are imported from their new module in the following way:</p>
<pre><code class="language-ts">import { logRecord, traceEnd, traceStart } from '@triplyetl/etl/debug'
</code></pre>
<h3 id="enhanced-better-error-messages-when-things-go-wrong">[Enhanced] Better error messages when things go wrong<a class="headerlink" href="#enhanced-better-error-messages-when-things-go-wrong" title="Permanent link">&para;</a></h3>
<p>This release introduces a new approach for communicating errors back to the user. When TriplyETL functionality detects an error condition, a unified 'trace middleware' is now used to retrieve information from the environment in which the error occurred. This information is then printed to the error output stream for communication with the user.</p>
<h3 id="bug-fixes_13">Bug fixes<a class="headerlink" href="#bug-fixes_13" title="Permanent link">&para;</a></h3>
<p>The following bug fixes are included in this release:</p>
<ul>
<li>
<p>Incorrect behavior of the <a href="../control-structures/#switch-between-different-cases-_switch">_switch() control function</a>.</p>
</li>
<li>
<p>The <a href="../../extract/oai-pmh/">fromOai() extractor</a> now communicates clearer when the accessed OAI-PMH endpoint encounters any issues.</p>
</li>
<li>
<p>When a key with a NULL value was accessed, the name of that key is now included in the error message. This makes it easier for users to find the NULL value in their source data.</p>
</li>
</ul>
<h2 id="triplyetl-10x">TriplyETL 1.0.x<a class="headerlink" href="#triplyetl-10x" title="Permanent link">&para;</a></h2>
<p>TriplyETL 1.0.0 was released on 2023-03-20.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../getting-started/" class="btn btn-neutral float-left" title="Getting Started"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../cli/" class="btn btn-neutral float-right" title="Command Line Interface (CLI)">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../getting-started/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../cli/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../../..';</script>
      <script src="../../../js/triply.js" defer></script>
      <script src="../../../js/highlight.min.js" defer></script>
      <script src="../../../search/main.js" defer></script>

</body>
</html>
